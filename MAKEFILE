CFLAGS = -ml -1 -f -c

all: STR_KSSM.H DMTD.EXE

STR_KSSM.H: STR_UTF8.H
	UTF2KSSM STR_UTF8.H STR_KSSM.H

DMTD.EXE: MAIN.OBJ MENU.OBJ DRAWING.OBJ HELP.OBJ GAME.OBJ GSTATE.OBJ MAP.OBJ ENEMY.OBJ TURRET.OBJ BULLET.OBJ IMAGES.OBJ
	BCC -ml -1 -f -eDMTD.EXE *.OBJ SED.LIB
	@DEL BUILD\DMTD.EXE > NUL
	@COPY DMTD.EXE BUILD\ > NUL
	@DEL DMTD.EXE > NUL


MAIN.OBJ: MAIN.CPP
	BCC $(CFLAGS) MAIN.CPP

MENU.OBJ: MENU.CPP
	BCC $(CFLAGS) MENU.CPP

DRAWING.OBJ: DRAWING.CPP
	BCC $(CFLAGS) DRAWING.CPP

HELP.OBJ: HELP.CPP
	BCC $(CFLAGS) HELP.CPP

GAME.OBJ: GAME.CPP
	BCC $(CFLAGS) GAME.CPP

GSTATE.OBJ: GSTATE.CPP
	BCC $(CFLAGS) GSTATE.CPP

MAP.OBJ: MAP.CPP
	BCC $(CFLAGS) MAP.CPP

ENEMY.OBJ: ENEMY.CPP
	BCC $(CFLAGS) ENEMY.CPP

TURRET.OBJ: TURRET.CPP
	BCC $(CFLAGS) TURRET.CPP

BULLET.OBJ: BULLET.CPP
	BCC $(CFLAGS) BULLET.CPP

IMAGES.OBJ: IMAGES.CPP
	BCC $(CFLAGS) IMAGES.CPP

clean:
	@DEL *.OBJ > NUL
	@DEL BUILD\DMTD.EXE > NUL
	@DEL STR_KSSM.H > NUL